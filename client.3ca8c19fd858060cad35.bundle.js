(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={tokenSizePx:20,squareSizePx:30,gridSizePx:110}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),a=n(17);function u(e,t){return 3*t+e}t.defaultGameState=Object.freeze({turn:"x",tokens:a.fill(new Array(r.TOKENS_PER_GRID*r.GRIDS),"blank")}),t.getTokenArrayIndex=function(e,t){return 9*e+t},t.getTokenIndexXYG=function(e,t,n){return n*r.TOKENS_PER_GRID+u(e,t)},t.getTokenIndexXY=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOKENS_PER_GRID=9,t.GRIDS=9},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,a,u,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,u=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=u.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return o},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),l=n(17),c=n(9),s=n(13);function f(e){return e.services.game}function d(e){var t=i.createSelector(f,e);return t.local=e,t}function _(e){var t,n;return r(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<3?[4,[e[c.getTokenIndexXY(0,t)],e[c.getTokenIndexXY(1,t)],e[c.getTokenIndexXY(2,t)]]]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:n=0,r.label=5;case 5:return n<3?[4,[e[c.getTokenIndexXY(n,0)],e[c.getTokenIndexXY(n,1)],e[c.getTokenIndexXY(n,2)]]]:[3,8];case 6:r.sent(),r.label=7;case 7:return n++,[3,5];case 8:return[4,[e[c.getTokenIndexXY(0,0)],e[c.getTokenIndexXY(1,1)],e[c.getTokenIndexXY(2,2)]]];case 9:return r.sent(),[4,[e[c.getTokenIndexXY(2,0)],e[c.getTokenIndexXY(1,1)],e[c.getTokenIndexXY(0,2)]]];case 10:return r.sent(),[2]}}))}t.tokensSelector=function(e){return e.services.game.tokens},t.turnSelector=function(e){return e.services.game.turn};var h=Array.from(function(){var e,t,n,a;return r(this,(function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<3*s.GRIDS?[5,o(_(u(l.range(3*t,3*t+3),l.range(9+3*t,9+3*t+3),l.range(18+3*t,18+3*t+3))))]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:e=function(e){return r(this,(function(t){switch(t.label){case 0:return[5,o(_(u(l.range(0,7,3).map((function(t){return t+e})),l.range(27,34,3).map((function(t){return t+e})),l.range(54,61,3).map((function(t){return t+e})))))];case 1:return t.sent(),[2]}}))},t=0,i.label=5;case 5:return t<3*s.GRIDS?[5,e(t)]:[3,8];case 6:i.sent(),i.label=7;case 7:return t++,[3,5];case 8:n=0,i.label=9;case 9:return n<s.GRIDS?[4,[c.getTokenIndexXYG(0,0,n),c.getTokenIndexXYG(1,1,n),c.getTokenIndexXYG(2,2,n)]]:[3,13];case 10:return i.sent(),[4,[c.getTokenIndexXYG(2,0,n),c.getTokenIndexXYG(1,1,n),c.getTokenIndexXYG(0,2,n)]];case 11:i.sent(),i.label=12;case 12:return n++,[3,9];case 13:a=0,i.label=14;case 14:return a<3?[4,[c.getTokenIndexXYG(0,0,0+3*a),c.getTokenIndexXYG(1,1,1+3*a),c.getTokenIndexXYG(2,2,2+3*a)]]:[3,20];case 15:return i.sent(),[4,[c.getTokenIndexXYG(2,0,0+3*a),c.getTokenIndexXYG(1,1,1+3*a),c.getTokenIndexXYG(0,2,2+3*a)]];case 16:return i.sent(),[4,[c.getTokenIndexXYG(0,2,0+3*a),c.getTokenIndexXYG(1,1,1+3*a),c.getTokenIndexXYG(2,0,2+3*a)]];case 17:return i.sent(),[4,[c.getTokenIndexXYG(2,2,0+3*a),c.getTokenIndexXYG(1,1,1+3*a),c.getTokenIndexXYG(0,0,2+3*a)]];case 18:i.sent(),i.label=19;case 19:return a++,[3,14];case 20:a=0,i.label=21;case 21:return a<3?[4,[c.getTokenIndexXYG(0,0,0+a),c.getTokenIndexXYG(1,1,3+a),c.getTokenIndexXYG(2,2,6+a)]]:[3,27];case 22:return i.sent(),[4,[c.getTokenIndexXYG(2,0,0+a),c.getTokenIndexXYG(1,1,3+a),c.getTokenIndexXYG(0,2,6+a)]];case 23:return i.sent(),[4,[c.getTokenIndexXYG(0,2,0+a),c.getTokenIndexXYG(1,1,3+a),c.getTokenIndexXYG(2,0,6+a)]];case 24:return i.sent(),[4,[c.getTokenIndexXYG(2,2,0+a),c.getTokenIndexXYG(1,1,3+a),c.getTokenIndexXYG(0,0,6+a)]];case 25:i.sent(),i.label=26;case 26:return a++,[3,21];case 27:return[4,[c.getTokenIndexXYG(0,0,0),c.getTokenIndexXYG(1,1,4),c.getTokenIndexXYG(2,2,8)]];case 28:return i.sent(),[4,[c.getTokenIndexXYG(2,0,2),c.getTokenIndexXYG(1,1,4),c.getTokenIndexXYG(0,2,6)]];case 29:return i.sent(),[2]}}))}()),p=i.createSelector((function(e){return e.tokens}),(function(e){var t,n;try{for(var r=o(h),a=r.next();!a.done;a=r.next()){var u=a.value,i=v(e,u);if(i)return{token:i,positions:u}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}));function v(e,t){var n=e[t[0]];if("blank"===n)return null;for(var r=1;r<t.length;r++)if(e[t[r]]!==n)return null;return n}t.winningToken=d((function(e){var t=p(e);return t?t.token:null})),t.winningPositions=d((function(e){var t=p(e);return t?t.positions:null}))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_PLACE_TOKEN="@game/place-token",t.placeToken=function(e){return{type:t.ACTION_PLACE_TOKEN,payload:{position:e}}},t.isPlaceTokenAction=function(e){return e.type===t.ACTION_PLACE_TOKEN}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_RESET="@game/reset",t.reset=function(){return{type:t.ACTION_RESET}},t.isResetAction=function(e){return e.type===t.ACTION_RESET}},,function(e,t,n){e.exports=n(23)},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(24),n(25);var u=r(n(0)),o=r(n(12)),i=a(n(33)),l=document.getElementById("root");l&&o.render(u.createElement(i.default,null),l)},,function(e,t,n){var r=n(26);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(28)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(27)(!1)).push([e.i,"/*\r\nThis should be kept minimal and only provide globals\r\nor non-react component styles.\r\n*/\r\n\r\nhtml, body, #root {\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: 0;\r\n}",""])},,,,,,,function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=a(n(34)),i=a(n(40)),l=a(n(56));t.default=function(){return u.createElement(o.default,null,u.createElement(i.default,null,u.createElement(l.default,null)))}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=n(63),i=a(n(8));t.default=function(e){var t=e.children;return u.createElement(o.ThemeProvider,{theme:i.default},u.createElement(u.Fragment,null,t))}},,,,,,function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=n(11),i=a(n(41));t.default=function(e){var t=e.children;return u.createElement(o.Provider,{store:i.default},t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=r(n(64)),o=r(n(42)),i=r(n(54)),l=n(55);var c=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:l.actionSanitizer,stateSanitizer:l.stateSanitizer,actionsBlacklist:l.actionsBlacklist})||a.compose,t=u.default(),n=a.createStore(o.default,e(a.applyMiddleware(t)));return t.run(i.default),n}();t.default=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),u=n(43),o=r(n(44)),i=a.combineReducers({game:o.default});t.default=function(e,t){return void 0===e&&(e=u.defaultAppState),{services:i(e.services,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.defaultAppState=Object.freeze({services:{game:r.defaultGameState}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(45)),u=r(n(46)),o=r(n(53)),i=a.default(u.default,o.default);t.default=i},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),u=n(9),o=n(19),i=n(14);t.default=function(e,t){if(void 0===e&&(e=u.defaultGameState),!o.isPlaceTokenAction(t))return e;if(i.winningPositions.local(e))return e;var n=t.payload.position;return"blank"!==e.tokens[n]?e:e=r(r({},e),{tokens:a.set([n],e.turn,e.tokens),turn:"x"===e.turn?"o":"x"})}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),a=n(20);t.default=function(e,t){return void 0===e&&(e=r.defaultGameState),a.isResetAction(t)?r.defaultGameState:e}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,a,u,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){o.label=u[1];break}if(6===u[0]&&o.label<a[1]){o.label=a[1],a=u;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(u);break}a[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r(this,(function(e){return[2]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actionsBlacklist=[],t.actionSanitizer=function(e){return e},t.stateSanitizer=function(e){return e}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=n(11),i=n(57),l=n(13),c=n(9),s=n(14),f=a(n(8)),d=a(n(58)),_=a(n(59)),h=a(n(60)),p=a(n(62));t.default=function(){var e=o.useSelector(s.tokensSelector),t=o.useSelector(s.turnSelector),n=i.windowArray(e,l.TOKENS_PER_GRID);return u.createElement("div",null,u.createElement(d.default,null,n.map((function(e,t){var n=t%3,r=Math.floor(t/3);return u.createElement(_.default,{key:t,x:f.default.gridSizePx*n+20,y:f.default.gridSizePx*r+20},e.map((function(e,n){var r=c.getTokenArrayIndex(t,n);return u.createElement(h.default,{key:r,position:r})})))}))),u.createElement("div",null,"Turn: ",t),u.createElement(p.default,null))}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,u=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=u.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.windowArray=function(e,t){for(var n=a(e),r=[],u=[];n.length>0;)u.push(n.pop()),u.length===t&&(r.push(u),u=[]);return u.length>0&&r.push(u),r}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=a(n(8));t.default=function(e){var t=e.children;return u.createElement("svg",{width:3*o.default.gridSizePx+50,height:3*o.default.gridSizePx+50},t)}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=a(n(8)),i=(o.default.squareSizePx-o.default.tokenSizePx)/2;t.default=function(e){for(var t=e.x,n=e.y,r=e.children,a=u.Children.toArray(r),l=[],c=1;c<=2;c++)l.push(u.createElement("line",{key:"x"+c,x1:0,y1:o.default.squareSizePx*c,x2:3*o.default.squareSizePx,y2:o.default.squareSizePx*c})),l.push(u.createElement("line",{key:"y"+c,y1:0,x1:o.default.squareSizePx*c,y2:3*o.default.squareSizePx,x2:o.default.squareSizePx*c}));var s=[];for(c=0;c<a.length;c++){var f=c%3,d=Math.floor(c/3);s.push(u.createElement("g",{transform:"translate("+(o.default.squareSizePx*f+i)+", "+(o.default.squareSizePx*d+i)+")",key:"ch"+c},a[c]))}return u.createElement("g",{transform:"translate("+t+", "+n+")"},u.createElement("g",{strokeWidth:1,stroke:"black"},l),s)}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=n(11),i=n(19),l=n(14),c=a(n(61));t.default=function(e){var t=e.position,n=o.useDispatch(),r=o.useSelector((function(e){return e.services.game.tokens[t]})),a=!1,s=o.useSelector(l.winningPositions);s&&s.includes(t)&&(a=!0);var f=u.useCallback((function(e){n(i.placeToken(t))}),[t]);return u.createElement(c.default,{isWinningToken:a,tokenType:r,onClick:f})}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(0)),o=a(n(8)).default.tokenSizePx,i=function(e){var t=e.onClick,n=e.color;return u.createElement("g",{strokeWidth:1,stroke:n,onClick:t},u.createElement("rect",{strokeWidth:0,fill:"transparent",width:o,height:o}),u.createElement("line",{x1:0,y1:0,x2:o,y2:o}),u.createElement("line",{x1:o,y1:0,x2:0,y2:o}))},l=function(e){var t=e.onClick,n=e.color;return u.createElement("g",{strokeWidth:1,stroke:n,fill:"none",onClick:t},u.createElement("rect",{strokeWidth:0,fill:"transparent",width:o,height:o}),u.createElement("circle",{cx:o/2,cy:o/2,r:o/2}))},c=function(e){var t=e.onClick;return u.createElement("rect",{fill:"transparent",width:o,height:o,onClick:t})};t.default=function(e){var t=e.tokenType,n=e.isWinningToken,r=e.onClick,a=n?"red":"black";switch(t){case"x":return u.createElement(i,{color:a,onClick:r});case"o":return u.createElement(l,{color:a,onClick:r});case"blank":return u.createElement(c,{color:"transparent",onClick:r});default:return u.createElement("div",null,"Error")}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),u=n(11),o=n(20);t.default=function(){var e=u.useDispatch(),t=a.useCallback((function(){e(o.reset())}),[e]);return a.createElement("button",{onClick:t},"Reset")}}],[[22,1,2]]]);
//# sourceMappingURL=client.3ca8c19fd858060cad35.bundle.js.map